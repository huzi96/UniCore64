From b789c2fe656e4661b26c52ae7f25a5ea1529d825 Mon Sep 17 00:00:00 2001
From: yuyue <yuyue@mprc.pku.edu.cn>
Date: Tue, 29 Nov 2011 17:44:49 +0800
Subject: [PATCH 096/641] UniCore64: Add macro ENDPROC

Signed-off-by: yuyue <yuyue@mprc.pku.edu.cn>
---
 arch/unicore64/include/asm/Kbuild    |    1 -
 arch/unicore64/include/asm/linkage.h |    8 ++++++++
 2 files changed, 8 insertions(+), 1 deletion(-)
 create mode 100644 arch/unicore64/include/asm/linkage.h

diff --git a/arch/unicore64/include/asm/Kbuild b/arch/unicore64/include/asm/Kbuild
index 2360792..2413b59 100644
--- a/arch/unicore64/include/asm/Kbuild
+++ b/arch/unicore64/include/asm/Kbuild
@@ -28,7 +28,6 @@ generic-y += irq.h
 generic-y += irq_regs.h
 generic-y += kdebug.h
 generic-y += kmap_types.h
-generic-y += linkage.h
 generic-y += local.h
 generic-y += mman.h
 generic-y += mmu.h
diff --git a/arch/unicore64/include/asm/linkage.h b/arch/unicore64/include/asm/linkage.h
new file mode 100644
index 0000000..f48d3f6
--- /dev/null
+++ b/arch/unicore64/include/asm/linkage.h
@@ -0,0 +1,8 @@
+#ifndef __UNICORE64_ASM_LINKAGE_H__
+#define __UNICORE64_ASM_LINKAGE_H__
+
+#define ENDPROC(name)		\
+	.type name, %function;	\
+	END(name)
+
+#endif /* __UNICORE64_ASM_LINKAGE_H__ */
-- 
1.7.9.5

