From fe97f6eb02a3f8ee76dc22cc0f978f61c67d89b2 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Fri, 9 Dec 2011 17:25:45 +0800
Subject: [PATCH 129/641] UniCore64: arrange VMALLOC space definitions to
 hwdef-memory.h

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/hwdef-memory.h |    4 ++++
 arch/unicore64/include/asm/pgtable.h       |    6 +++---
 2 files changed, 7 insertions(+), 3 deletions(-)

diff --git a/arch/unicore64/include/arch/hwdef-memory.h b/arch/unicore64/include/arch/hwdef-memory.h
index da70b01..b6002ed 100644
--- a/arch/unicore64/include/arch/hwdef-memory.h
+++ b/arch/unicore64/include/arch/hwdef-memory.h
@@ -48,6 +48,10 @@
 #define UC64_VM_DMAP_START		UC64_VM_KERNEL_START
 #define UC64_VM_DMAP_END		HEX64(ffffffef, ffffffff)
 
+/* FIXME */
+#define UC64_VM_VMALLOC_START		HEX64(00000001, 00000000)
+#define UC64_VM_VMALLOC_END		HEX64(00000002, 00000000)
+
 /*
  * We have 36-bit pm address which means 64GB physical space
  * as below:
diff --git a/arch/unicore64/include/asm/pgtable.h b/arch/unicore64/include/asm/pgtable.h
index e994cc487..f5bc0e3 100644
--- a/arch/unicore64/include/asm/pgtable.h
+++ b/arch/unicore64/include/asm/pgtable.h
@@ -5,9 +5,9 @@
 #include <arch/hwdef-pgtable.h>
 
 #define PTE_FILE		PTE_YOUNG	/* only when !PRESENT */
-/* FIXME */
-#define VMALLOC_START		_AC(0x0000000100000000, UL)
-#define VMALLOC_END		_AC(0x0000000200000000, UL)
+
+#define VMALLOC_START		UC64_VM_VMALLOC_START
+#define VMALLOC_END		UC64_VM_VMALLOC_END
 
 #define FIRST_USER_ADDRESS	(0)
 
-- 
1.7.9.5

