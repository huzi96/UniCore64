From 452f4647cfee9574b7dd3a197795bd93bd0cc82f Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Sat, 10 Dec 2011 19:33:10 +0800
Subject: [PATCH 152/641] UniCore64: add hwdef-memory.h kernel-doc support

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 Documentation/DocBook/unicore64-kernel.tmpl |    9 +++++++++
 arch/unicore64/include/arch/hwdef-memory.h  |   12 +++++++++---
 2 files changed, 18 insertions(+), 3 deletions(-)

diff --git a/Documentation/DocBook/unicore64-kernel.tmpl b/Documentation/DocBook/unicore64-kernel.tmpl
index f0e847c..9d6e5a9 100644
--- a/Documentation/DocBook/unicore64-kernel.tmpl
+++ b/Documentation/DocBook/unicore64-kernel.tmpl
@@ -64,6 +64,15 @@
 !Parch/unicore64/include/arch/hwdef-copro.h HWDEF_COPRO_H_CP0_CPUID
 !Parch/unicore64/include/arch/hwdef-copro.h HWDEF_COPRO_H_CP0_CTRLREG
 		</sect2>
+		<sect2 id="sect1_1_3">
+			<title>Memory</title>
+			<screen>
+			See file: arch/unicore64/include/arch/hwdef-memory.h
+			</screen>
+!Parch/unicore64/include/arch/hwdef-memory.h HWDEF_MEMORY_H
+!Parch/unicore64/include/arch/hwdef-memory.h HWDEF_MEMORY_H_VM
+!Parch/unicore64/include/arch/hwdef-memory.h HWDEF_MEMORY_H_PM
+		</sect2>
     	</sect1>
 </chapter>
 
diff --git a/arch/unicore64/include/arch/hwdef-memory.h b/arch/unicore64/include/arch/hwdef-memory.h
index ff6dd83..03bfeeb 100644
--- a/arch/unicore64/include/arch/hwdef-memory.h
+++ b/arch/unicore64/include/arch/hwdef-memory.h
@@ -1,11 +1,15 @@
 #ifndef __UNICORE64_ARCH_HWDEF_MEMORY_H__
 #define __UNICORE64_ARCH_HWDEF_MEMORY_H__
 
+/**
+ * DOC: HWDEF_MEMORY_H
+ * This file defines memory layout for VM & PM.
+ */
 #include <arch/bitfield.h>
 #include <arch/hwdef-pgtable.h>
 
 /**
- * DOC: HWDEF_MEMORY_H
+ * DOC: HWDEF_MEMORY_H_VM
  * We have 39-bit vm address which means 512GB virtual space.
  * Use the 38:37 bits(the higher bits are extended the same as the
  * 38th bit) to divide it in 4 parts as below:
@@ -33,9 +37,10 @@
  * -            |               |      0x00000000_00000000
  * -            +---------------+
  * -
+ * \\\\lt:/programlisting\\\\gt:
+ *
  * In the Kernel space, the first 64GB(physical space is 64G) space
  * is Direct Mapping space.
- * \\\\lt:/programlisting\\\\gt:
  */
 
 /* virtual address of USER space */
@@ -53,7 +58,8 @@
 #define UC64_VM_VMALLOC_START		HEX64(00000001, 00000000)
 #define UC64_VM_VMALLOC_END		HEX64(00000002, 00000000)
 
-/*
+/**
+ * DOC: HWDEF_MEMORY_H_PM
  * We have 36-bit pm address which means 64GB physical space
  * as below:
  */
-- 
1.7.9.5

