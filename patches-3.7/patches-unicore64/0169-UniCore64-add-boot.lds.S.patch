From 1a02831fb20f90f40c1be23b867e6d360be9ca6a Mon Sep 17 00:00:00 2001
From: Yu Yue <yuyue@mprc.pku.edu.cn>
Date: Wed, 14 Dec 2011 15:08:41 +0800
Subject: [PATCH 169/641] UniCore64: add boot.lds.S

Signed-off-by: Yu Yue <yuyue@mprc.pku.edu.cn>
---
 arch/unicore64/boot/boot.lds.S |   38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)
 create mode 100644 arch/unicore64/boot/boot.lds.S

diff --git a/arch/unicore64/boot/boot.lds.S b/arch/unicore64/boot/boot.lds.S
new file mode 100644
index 0000000..b4e2d1c
--- /dev/null
+++ b/arch/unicore64/boot/boot.lds.S
@@ -0,0 +1,38 @@
+#include <asm-generic/vmlinux.lds.h>
+#include <arch/hwdef-memory.h>
+
+OUTPUT_ARCH(unicore64)
+ENTRY(_start)
+SECTIONS
+{
+  /DISCARD/ : {
+    /*
+     * Discard any r/w data - this produces a link error if we have any,
+     * which is required for PIC decompression.  Local data generates
+     * GOTOFF relocations, which prevents it being relocated independently
+     * of the text/got segments.
+     */
+    *(.data)
+  }
+
+  . = UC64_PM_ZIMAGE_START;
+  _text = .;
+
+  .text : {
+    _start = .;
+    *(.start)
+    *(.text)
+    *(.rodata)
+    *(.rodata.*)
+    *(.piggydata)
+    . = ALIGN(4);
+  }
+  _etext = .;
+
+  . = ALIGN(4);
+  __bss_start = .;
+  .bss			: { *(.bss) }
+  _end = .;
+
+  .comment 0		: { *(.comment) }
+}
-- 
1.7.9.5

