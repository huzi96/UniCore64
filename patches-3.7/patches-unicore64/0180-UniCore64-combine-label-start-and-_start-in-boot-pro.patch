From a86fd972d694aeb3830b3527e5dc7cc11039b71a Mon Sep 17 00:00:00 2001
From: GuanXuetao <gxt@mprc.pku.edu.cn>
Date: Fri, 16 Dec 2011 20:14:24 +0800
Subject: [PATCH 180/641] UniCore64: combine label start and _start in boot
 process

Signed-off-by: GuanXuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/boot/boot-head.S |    3 ++-
 arch/unicore64/boot/boot.lds.S  |    1 -
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/unicore64/boot/boot-head.S b/arch/unicore64/boot/boot-head.S
index d173007..7e74c42 100644
--- a/arch/unicore64/boot/boot-head.S
+++ b/arch/unicore64/boot/boot-head.S
@@ -5,7 +5,8 @@
 #include <arch/head-macros.S>
 
 	.section ".start"
-start:
+	.globl	_start
+_start:
 	/*
 	 * Initialize ASR and coprocessor 0.
 	 */
diff --git a/arch/unicore64/boot/boot.lds.S b/arch/unicore64/boot/boot.lds.S
index 2c42d4b..4a5c4b2 100644
--- a/arch/unicore64/boot/boot.lds.S
+++ b/arch/unicore64/boot/boot.lds.S
@@ -18,7 +18,6 @@ SECTIONS
 	. = UC64_PM_ZIMAGE_START;
 
 	.text : {
-		_start = .;
 		*(.start)
 		*(.text)
 		*(.rodata)
-- 
1.7.9.5

