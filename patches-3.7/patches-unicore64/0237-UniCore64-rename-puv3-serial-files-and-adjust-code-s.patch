From 8afd9cbf43a3f4fdf14da9f988f425ae27ec68f5 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Tue, 17 Jan 2012 23:13:04 +0800
Subject: [PATCH 237/641] UniCore64: rename puv3 serial files and adjust code
 style

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/hwdef-irq.h  |    6 ---
 arch/unicore64/include/arch/hwdef-puv3.h |   63 ------------------------------
 arch/unicore64/include/arch/puv3-gpio.h  |   32 +++++++++++++++
 arch/unicore64/include/arch/puv3-intc.h  |   23 +++++++++++
 arch/unicore64/include/arch/puv3-iomem.h |   63 ++++++++++++++++++++++++++++++
 arch/unicore64/include/arch/puv3-irq.h   |    6 +++
 arch/unicore64/include/arch/regs-gpio.h  |   32 ---------------
 arch/unicore64/include/arch/regs-intc.h  |   23 -----------
 arch/unicore64/kernel/puv3-core.c        |    4 +-
 9 files changed, 126 insertions(+), 126 deletions(-)
 delete mode 100644 arch/unicore64/include/arch/hwdef-irq.h
 delete mode 100644 arch/unicore64/include/arch/hwdef-puv3.h
 create mode 100644 arch/unicore64/include/arch/puv3-gpio.h
 create mode 100644 arch/unicore64/include/arch/puv3-intc.h
 create mode 100644 arch/unicore64/include/arch/puv3-iomem.h
 create mode 100644 arch/unicore64/include/arch/puv3-irq.h
 delete mode 100644 arch/unicore64/include/arch/regs-gpio.h
 delete mode 100644 arch/unicore64/include/arch/regs-intc.h

diff --git a/arch/unicore64/include/arch/hwdef-irq.h b/arch/unicore64/include/arch/hwdef-irq.h
deleted file mode 100644
index 71ce51f..0000000
--- a/arch/unicore64/include/arch/hwdef-irq.h
+++ /dev/null
@@ -1,6 +0,0 @@
-#ifndef __UNICORE64_ARCH_HWDEF_IRQ_H__
-#define __UNICORE64_ARCH_HWDEF_IRQ_H__
-
-#define IRQ_TIMER0		(0x1a)
-
-#endif /* __UNICORE64_ARCH_HWDEF_IRQ_H__ */
diff --git a/arch/unicore64/include/arch/hwdef-puv3.h b/arch/unicore64/include/arch/hwdef-puv3.h
deleted file mode 100644
index 7597379..0000000
--- a/arch/unicore64/include/arch/hwdef-puv3.h
+++ /dev/null
@@ -1,63 +0,0 @@
-#ifndef __UNICORE64_ARCH_HWDEF_PUV3_H__
-#define __UNICORE64_ARCH_HWDEF_PUV3_H__
-
-#include <arch/hwdef-memory.h>
-
-#define PUV3_IOMEM_REGION	__BS(12, 0)
-
-/*
- * PUV3 System Bus Addresses (PCI): 0x80000000 - 0xBFFFFFFF (1GB)
- * 0x80000000 - 0x8000000B 12B    PCI Configuration regs
- * 0x80010000 - 0x80010250 592B   PCI Bridge Base
- * 0x80030000 - 0x8003FFFF 64KB   PCI Legacy IO
- * 0x90000000 - 0x97FFFFFF 128MB  PCI AHB-PCI MEM-mapping
- * 0x98000000 - 0x9FFFFFFF 128MB  PCI PCI-AHB MEM-mapping
- */
-#define PUV3_PCI_BASE			UC64_IO2VM(0x00000000)
-#define PUV3_PCICFG_BASE		(PUV3_PCI_BASE + 0x0)
-#define PUV3_PCIBRI_BASE		(PUV3_PCI_BASE + 0x00010000)
-#define PUV3_PCILIO_BASE		(PUV3_PCI_BASE + 0x00030000)
-#define PUV3_PCIMEM_BASE		(PUV3_PCI_BASE + 0x10000000)
-#define PUV3_PCIAHB_BASE		(PUV3_PCI_BASE + 0x18000000)
-
-/*
- * PUV3 System Bus Addresses (AHB): 0xC0000000 - 0xEDFFFFFF (640MB)
- */
-#define PUV3_AHB_BASE			UC64_IO2VM(0x40000000)
-
-/* AHB-0 is DDR2 SDRAM */
-/* AHB-1 is PCI Space */
-#define PUV3_ARBITER_BASE		(PUV3_AHB_BASE + 0x000000) /* AHB-2 */
-#define PUV3_DDR2CTRL_BASE		(PUV3_AHB_BASE + 0x100000) /* AHB-3 */
-#define PUV3_DMAC_BASE			(PUV3_AHB_BASE + 0x200000) /* AHB-4 */
-#define PUV3_UMAL_BASE			(PUV3_AHB_BASE + 0x300000) /* AHB-5 */
-#define PUV3_USB_BASE			(PUV3_AHB_BASE + 0x400000) /* AHB-6 */
-#define PUV3_SATA_BASE			(PUV3_AHB_BASE + 0x500000) /* AHB-7 */
-#define PUV3_SMC_BASE			(PUV3_AHB_BASE + 0x600000) /* AHB-8 */
-/* AHB-9 is for APB bridge */
-#define PUV3_MME_BASE			(PUV3_AHB_BASE + 0x700000) /* AHB-10 */
-#define PUV3_UNIGFX_BASE		(PUV3_AHB_BASE + 0x800000) /* AHB-11 */
-#define PUV3_NAND_BASE			(PUV3_AHB_BASE + 0x900000) /* AHB-12 */
-#define PUV3_H264D_BASE			(PUV3_AHB_BASE + 0xA00000) /* AHB-13 */
-#define PUV3_H264E_BASE			(PUV3_AHB_BASE + 0xB00000) /* AHB-14 */
-
-/*
- * PUV3 Peripheral Bus Addresses (APB): 0xEE000000 - 0xEFFFFFFF (128MB)
- */
-#define PUV3_APB_BASE			UC64_IO2VM(0x6E000000)
-
-#define PUV3_UART0_BASE			(PUV3_APB_BASE + 0x000000) /* APB-0 */
-#define PUV3_UART1_BASE			(PUV3_APB_BASE + 0x100000) /* APB-1 */
-#define PUV3_I2C_BASE			(PUV3_APB_BASE + 0x200000) /* APB-2 */
-#define PUV3_SPI_BASE			(PUV3_APB_BASE + 0x300000) /* APB-3 */
-#define PUV3_AC97_BASE			(PUV3_APB_BASE + 0x400000) /* APB-4 */
-#define PUV3_GPIO_BASE			(PUV3_APB_BASE + 0x500000) /* APB-5 */
-#define PUV3_INTC_BASE			(PUV3_APB_BASE + 0x600000) /* APB-6 */
-#define PUV3_RTC_BASE			(PUV3_APB_BASE + 0x700000) /* APB-7 */
-#define PUV3_OST_BASE			(PUV3_APB_BASE + 0x800000) /* APB-8 */
-#define PUV3_RESETC_BASE		(PUV3_APB_BASE + 0x900000) /* APB-9 */
-#define PUV3_PM_BASE			(PUV3_APB_BASE + 0xA00000) /* APB-10 */
-#define PUV3_PS2_BASE			(PUV3_APB_BASE + 0xB00000) /* APB-11 */
-#define PUV3_SDC_BASE			(PUV3_APB_BASE + 0xC00000) /* APB-12 */
-
-#endif  /* __UNICORE64_ARCH_HWDEF_PUV3_H__ */
diff --git a/arch/unicore64/include/arch/puv3-gpio.h b/arch/unicore64/include/arch/puv3-gpio.h
new file mode 100644
index 0000000..f636468
--- /dev/null
+++ b/arch/unicore64/include/arch/puv3-gpio.h
@@ -0,0 +1,32 @@
+#ifndef __UNICORE64_ARCH_PUV3_GPIO__
+#define __UNICORE64_ARCH_PUV3_GPIO__
+
+#include <arch/puv3-iomem.h>
+
+/*
+ * PUV3 General-Purpose Input/Output (GPIO) Registers
+ *
+ * Voltage Status Reg GPIO_GPLR.
+ * Pin Direction Reg GPIO_GPDR.
+ * Output Pin Set Reg GPIO_GPSR.
+ * Output Pin Clear Reg GPIO_GPCR.
+ * Raise Edge Detect Reg GPIO_GRER.
+ * Fall Edge Detect Reg GPIO_GFER.
+ * Edge Status Reg GPIO_GEDR.
+ * Sepcial Voltage Detect Reg GPIO_GPIR.
+ */
+#define GPIO_GPLR		(PUV3_GPIO_BASE + 0x0000)
+#define GPIO_GPDR		(PUV3_GPIO_BASE + 0x0004)
+#define GPIO_GPSR		(PUV3_GPIO_BASE + 0x0008)
+#define GPIO_GPCR		(PUV3_GPIO_BASE + 0x000C)
+#define GPIO_GRER		(PUV3_GPIO_BASE + 0x0010)
+#define GPIO_GFER		(PUV3_GPIO_BASE + 0x0014)
+#define GPIO_GEDR		(PUV3_GPIO_BASE + 0x0018)
+#define GPIO_GPIR		(PUV3_GPIO_BASE + 0x0020)
+
+#define GPIO_MIN		(0)
+#define GPIO_MAX		(27)
+
+#define GPIO_GPIO(Nb)		__BF(1, (Nb))	/* GPIO [0..27] */
+
+#endif /* __UNICORE64_ARCH_PUV3_GPIO__ */
diff --git a/arch/unicore64/include/arch/puv3-intc.h b/arch/unicore64/include/arch/puv3-intc.h
new file mode 100644
index 0000000..35bcc95
--- /dev/null
+++ b/arch/unicore64/include/arch/puv3-intc.h
@@ -0,0 +1,23 @@
+#ifndef __UNICORE64_ARCH_PUV3_INTC__
+#define __UNICORE64_ARCH_PUV3_INTC__
+
+#include <arch/puv3-iomem.h>
+
+/*
+ * PUV3 Interrupt Controller (INTC) Registers
+ *
+ * INTC Level Reg INTC_ICLR.
+ * INTC Mask Reg INTC_ICMR.
+ * INTC Pending Reg INTC_ICPR.
+ * INTC IRQ Pending Reg INTC_ICIP.
+ * INTC REAL Pending Reg INTC_ICFP.
+ * INTC Control Reg INTC_ICCR.
+ */
+#define INTC_ICLR		(PUV3_INTC_BASE + 0x0000)
+#define INTC_ICMR		(PUV3_INTC_BASE + 0x0004)
+#define INTC_ICPR		(PUV3_INTC_BASE + 0x0008)
+#define INTC_ICIP		(PUV3_INTC_BASE + 0x000C)
+#define INTC_ICFP		(PUV3_INTC_BASE + 0x0010)
+#define INTC_ICCR		(PUV3_INTC_BASE + 0x0014)
+
+#endif /* __UNICORE64_ARCH_PUV3_INTC__ */
diff --git a/arch/unicore64/include/arch/puv3-iomem.h b/arch/unicore64/include/arch/puv3-iomem.h
new file mode 100644
index 0000000..3d5ef95
--- /dev/null
+++ b/arch/unicore64/include/arch/puv3-iomem.h
@@ -0,0 +1,63 @@
+#ifndef __UNICORE64_ARCH_PUV3_IOMEM_H__
+#define __UNICORE64_ARCH_PUV3_IOMEM_H__
+
+#include <arch/hwdef-memory.h>
+
+#define PUV3_IOMEM_REGION		__BS(12, 0)
+
+/*
+ * PUV3 System Bus Addresses (PCI): 0x80000000 - 0xBFFFFFFF (1GB)
+ * 0x80000000 - 0x8000000B 12B    PCI Configuration regs
+ * 0x80010000 - 0x80010250 592B   PCI Bridge Base
+ * 0x80030000 - 0x8003FFFF 64KB   PCI Legacy IO
+ * 0x90000000 - 0x97FFFFFF 128MB  PCI AHB-PCI MEM-mapping
+ * 0x98000000 - 0x9FFFFFFF 128MB  PCI PCI-AHB MEM-mapping
+ */
+#define PUV3_PCI_BASE			UC64_IO2VM(0x00000000)
+#define PUV3_PCICFG_BASE		(PUV3_PCI_BASE + 0x0)
+#define PUV3_PCIBRI_BASE		(PUV3_PCI_BASE + 0x00010000)
+#define PUV3_PCILIO_BASE		(PUV3_PCI_BASE + 0x00030000)
+#define PUV3_PCIMEM_BASE		(PUV3_PCI_BASE + 0x10000000)
+#define PUV3_PCIAHB_BASE		(PUV3_PCI_BASE + 0x18000000)
+
+/*
+ * PUV3 System Bus Addresses (AHB): 0xC0000000 - 0xEDFFFFFF (640MB)
+ */
+#define PUV3_AHB_BASE			UC64_IO2VM(0x40000000)
+
+/* AHB-0 is DDR2 SDRAM */
+/* AHB-1 is PCI Space */
+#define PUV3_ARBITER_BASE		(PUV3_AHB_BASE + 0x000000) /* AHB-2 */
+#define PUV3_DDR2CTRL_BASE		(PUV3_AHB_BASE + 0x100000) /* AHB-3 */
+#define PUV3_DMAC_BASE			(PUV3_AHB_BASE + 0x200000) /* AHB-4 */
+#define PUV3_UMAL_BASE			(PUV3_AHB_BASE + 0x300000) /* AHB-5 */
+#define PUV3_USB_BASE			(PUV3_AHB_BASE + 0x400000) /* AHB-6 */
+#define PUV3_SATA_BASE			(PUV3_AHB_BASE + 0x500000) /* AHB-7 */
+#define PUV3_SMC_BASE			(PUV3_AHB_BASE + 0x600000) /* AHB-8 */
+/* AHB-9 is for APB bridge */
+#define PUV3_MME_BASE			(PUV3_AHB_BASE + 0x700000) /* AHB-10 */
+#define PUV3_UNIGFX_BASE		(PUV3_AHB_BASE + 0x800000) /* AHB-11 */
+#define PUV3_NAND_BASE			(PUV3_AHB_BASE + 0x900000) /* AHB-12 */
+#define PUV3_H264D_BASE			(PUV3_AHB_BASE + 0xA00000) /* AHB-13 */
+#define PUV3_H264E_BASE			(PUV3_AHB_BASE + 0xB00000) /* AHB-14 */
+
+/*
+ * PUV3 Peripheral Bus Addresses (APB): 0xEE000000 - 0xEFFFFFFF (128MB)
+ */
+#define PUV3_APB_BASE			UC64_IO2VM(0x6E000000)
+
+#define PUV3_UART0_BASE			(PUV3_APB_BASE + 0x000000) /* APB-0 */
+#define PUV3_UART1_BASE			(PUV3_APB_BASE + 0x100000) /* APB-1 */
+#define PUV3_I2C_BASE			(PUV3_APB_BASE + 0x200000) /* APB-2 */
+#define PUV3_SPI_BASE			(PUV3_APB_BASE + 0x300000) /* APB-3 */
+#define PUV3_AC97_BASE			(PUV3_APB_BASE + 0x400000) /* APB-4 */
+#define PUV3_GPIO_BASE			(PUV3_APB_BASE + 0x500000) /* APB-5 */
+#define PUV3_INTC_BASE			(PUV3_APB_BASE + 0x600000) /* APB-6 */
+#define PUV3_RTC_BASE			(PUV3_APB_BASE + 0x700000) /* APB-7 */
+#define PUV3_OST_BASE			(PUV3_APB_BASE + 0x800000) /* APB-8 */
+#define PUV3_RESETC_BASE		(PUV3_APB_BASE + 0x900000) /* APB-9 */
+#define PUV3_PM_BASE			(PUV3_APB_BASE + 0xA00000) /* APB-10 */
+#define PUV3_PS2_BASE			(PUV3_APB_BASE + 0xB00000) /* APB-11 */
+#define PUV3_SDC_BASE			(PUV3_APB_BASE + 0xC00000) /* APB-12 */
+
+#endif  /* __UNICORE64_ARCH_PUV3_IOMEM_H__ */
diff --git a/arch/unicore64/include/arch/puv3-irq.h b/arch/unicore64/include/arch/puv3-irq.h
new file mode 100644
index 0000000..d83431c
--- /dev/null
+++ b/arch/unicore64/include/arch/puv3-irq.h
@@ -0,0 +1,6 @@
+#ifndef __UNICORE64_ARCH_PUV3_IRQ_H__
+#define __UNICORE64_ARCH_PUV3_IRQ_H__
+
+#define IRQ_TIMER0		(0x1a)
+
+#endif /* __UNICORE64_ARCH_PUV3_IRQ_H__ */
diff --git a/arch/unicore64/include/arch/regs-gpio.h b/arch/unicore64/include/arch/regs-gpio.h
deleted file mode 100644
index be3334a..0000000
--- a/arch/unicore64/include/arch/regs-gpio.h
+++ /dev/null
@@ -1,32 +0,0 @@
-#ifndef __UNICORE64_ARCH_REGS_GPIO__
-#define __UNICORE64_ARCH_REGS_GPIO__
-
-#include <arch/hwdef-puv3.h>
-
-/*
- * PUV3 General-Purpose Input/Output (GPIO) Registers
- *
- * Voltage Status Reg GPIO_GPLR.
- * Pin Direction Reg GPIO_GPDR.
- * Output Pin Set Reg GPIO_GPSR.
- * Output Pin Clear Reg GPIO_GPCR.
- * Raise Edge Detect Reg GPIO_GRER.
- * Fall Edge Detect Reg GPIO_GFER.
- * Edge Status Reg GPIO_GEDR.
- * Sepcial Voltage Detect Reg GPIO_GPIR.
- */
-#define GPIO_GPLR	(PUV3_GPIO_BASE + 0x0000)
-#define GPIO_GPDR	(PUV3_GPIO_BASE + 0x0004)
-#define GPIO_GPSR	(PUV3_GPIO_BASE + 0x0008)
-#define GPIO_GPCR	(PUV3_GPIO_BASE + 0x000C)
-#define GPIO_GRER	(PUV3_GPIO_BASE + 0x0010)
-#define GPIO_GFER	(PUV3_GPIO_BASE + 0x0014)
-#define GPIO_GEDR	(PUV3_GPIO_BASE + 0x0018)
-#define GPIO_GPIR	(PUV3_GPIO_BASE + 0x0020)
-
-#define GPIO_MIN	(0)
-#define GPIO_MAX	(27)
-
-#define GPIO_GPIO(Nb)	__BF(1, (Nb))	/* GPIO [0..27] */
-
-#endif /* __UNICORE64_ARCH_REGS_GPIO__ */
diff --git a/arch/unicore64/include/arch/regs-intc.h b/arch/unicore64/include/arch/regs-intc.h
deleted file mode 100644
index 285a28c..0000000
--- a/arch/unicore64/include/arch/regs-intc.h
+++ /dev/null
@@ -1,23 +0,0 @@
-#ifndef __UNICORE64_ARCH_REGS_INTC__
-#define __UNICORE64_ARCH_REGS_INTC__
-
-#include <arch/hwdef-puv3.h>
-
-/*
- * PUV3 Interrupt Controller (INTC) Registers
- *
- * INTC Level Reg INTC_ICLR.
- * INTC Mask Reg INTC_ICMR.
- * INTC Pending Reg INTC_ICPR.
- * INTC IRQ Pending Reg INTC_ICIP.
- * INTC REAL Pending Reg INTC_ICFP.
- * INTC Control Reg INTC_ICCR.
- */
-#define INTC_ICLR	(PUV3_INTC_BASE + 0x0000)
-#define INTC_ICMR	(PUV3_INTC_BASE + 0x0004)
-#define INTC_ICPR	(PUV3_INTC_BASE + 0x0008)
-#define INTC_ICIP	(PUV3_INTC_BASE + 0x000C)
-#define INTC_ICFP	(PUV3_INTC_BASE + 0x0010)
-#define INTC_ICCR	(PUV3_INTC_BASE + 0x0014)
-
-#endif /* __UNICORE64_ARCH_REGS_INTC__ */
diff --git a/arch/unicore64/kernel/puv3-core.c b/arch/unicore64/kernel/puv3-core.c
index 9b18971..495352d 100644
--- a/arch/unicore64/kernel/puv3-core.c
+++ b/arch/unicore64/kernel/puv3-core.c
@@ -1,8 +1,8 @@
 #include <linux/init.h>
 #include <linux/platform_device.h>
 
-#include <arch/hwdef-puv3.h>
-#include <arch/hwdef-irq.h>
+#include <arch/puv3-iomem.h>
+#include <arch/puv3-irq.h>
 
 static struct resource puv3_gpio_resources[] = {
 	[0] = {
-- 
1.7.9.5

