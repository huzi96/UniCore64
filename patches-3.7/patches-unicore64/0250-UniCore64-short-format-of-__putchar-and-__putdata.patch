From 0ee63f3d2165fb92d8d284790dcbd5a82af6a919 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Wed, 18 Jan 2012 15:54:27 +0800
Subject: [PATCH 250/641] UniCore64: short format of __putchar and __putdata

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/asm-debug.h |   10 +++++-----
 arch/unicore64/kernel/entry.S           |    8 ++++----
 arch/unicore64/lib/debug.S              |    6 +++---
 3 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/arch/unicore64/include/arch/asm-debug.h b/arch/unicore64/include/arch/asm-debug.h
index 17ecfb0..7eeb4e3 100644
--- a/arch/unicore64/include/arch/asm-debug.h
+++ b/arch/unicore64/include/arch/asm-debug.h
@@ -4,12 +4,12 @@
 #include <arch/asm-common.h>
 
 /**
- * uc64_debug_putchar - prints a 8 bits char
- * uc64_debug_putdata - prints a 64 bits data
+ * __putchar - prints a 8 bits char
+ * __putdata - prints a 64 bits data
  */
 #ifdef	CONFIG_DEBUG_OCD
 /* For OCD debug mode */
-__ASMMACRO_WRAP(.macro	uc64_debug_putchar, rchar, rt1, rt2;
+__ASMMACRO_WRAP(.macro	__putchar, rchar, rt1, rt2;
 			mov	&rt1, r0;
 			mov	&rt2, r1;
 			mov	r0, #1;
@@ -19,7 +19,7 @@ __ASMMACRO_WRAP(.macro	uc64_debug_putchar, rchar, rt1, rt2;
 			mov	r1, &rt2;
 		.endm)
 
-__ASMMACRO_WRAP(.macro	uc64_debug_putdata, rdata, rt1, rt2;
+__ASMMACRO_WRAP(.macro	__putdata, rdata, rt1, rt2;
 			mov	&rt1, r0;
 			mov	&rt2, r1;
 			mov	r0, #0;
@@ -30,7 +30,7 @@ __ASMMACRO_WRAP(.macro	uc64_debug_putdata, rdata, rt1, rt2;
 		.endm)
 #else
 /* For RTL simulation environment */
-__ASMMACRO_WRAP(.macro	uc64_debug_putchar, rchar, rt1, rt2;
+__ASMMACRO_WRAP(.macro	__putchar, rchar, rt1, rt2;
 			movc	p6.c0, &rchar, #1;
 		.endm)
 #endif /* CONFIG_DEBUG_OCD */
diff --git a/arch/unicore64/kernel/entry.S b/arch/unicore64/kernel/entry.S
index 18377e5..c21e919 100644
--- a/arch/unicore64/kernel/entry.S
+++ b/arch/unicore64/kernel/entry.S
@@ -55,10 +55,10 @@ ENTRY(__vectors_table)
 ENDPROC(__vectors_table)
 
 ENTRY(__vec_invalid)
-	dmovl			r0,  0xdeaddeaddeaddead
-	uc64_debug_putdata	r0, r14, r15
-	uc64_debug_putdata	lr, r14, r15
-	halt			/* no return */
+	dmovl		r0,  0xdeaddeaddeaddead
+	__putdata	r0, r14, r15
+	__putdata	lr, r14, r15
+	halt		/* no return */
 ENDPROC(__vec_invalid)
 
 ENTRY(__vec_int_ost)
diff --git a/arch/unicore64/lib/debug.S b/arch/unicore64/lib/debug.S
index 14e68d7..fba663c 100644
--- a/arch/unicore64/lib/debug.S
+++ b/arch/unicore64/lib/debug.S
@@ -16,7 +16,7 @@ ENTRY(uc64_debug_puts)
 	dcsub.a r2, #0
 	beq	1003f
 
-	uc64_debug_putchar	r2, r14, r15
+	__putchar	r2, r14, r15
 
 	dsub.a	r1, r1, #1
 	bsl	1002f
@@ -36,10 +36,10 @@ ENDPROC(uc64_debug_puts)
  * r0: the data to be printed
  */
 ENTRY(uc64_debug_putx)
-	uc64_debug_putdata	r0, r14, r15
+	__putdata	r0, r14, r15
 
 	mov	r0, #0x20
-	uc64_debug_putchar	r0, r14, r15
+	__putchar	r0, r14, r15
 
 	return
 ENDPROC(uc64_debug_putx)
-- 
1.7.9.5

