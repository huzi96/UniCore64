From 70106437b0e8d7693985719d7d432388b6909b97 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Thu, 19 Jan 2012 13:50:18 +0800
Subject: [PATCH 261/641] UniCore64: add regs prefix to puv3 header, and
 remove gpio regs definition

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/puv3-gpio.h      |   32 --------------------------
 arch/unicore64/include/arch/puv3-intc.h      |   23 ------------------
 arch/unicore64/include/arch/puv3-regs-intc.h |   23 ++++++++++++++++++
 arch/unicore64/kernel/puv3-intc.c            |    2 +-
 4 files changed, 24 insertions(+), 56 deletions(-)
 delete mode 100644 arch/unicore64/include/arch/puv3-gpio.h
 delete mode 100644 arch/unicore64/include/arch/puv3-intc.h
 create mode 100644 arch/unicore64/include/arch/puv3-regs-intc.h

diff --git a/arch/unicore64/include/arch/puv3-gpio.h b/arch/unicore64/include/arch/puv3-gpio.h
deleted file mode 100644
index 19f11b0..0000000
--- a/arch/unicore64/include/arch/puv3-gpio.h
+++ /dev/null
@@ -1,32 +0,0 @@
-#ifndef __UNICORE64_ARCH_PUV3_GPIO__
-#define __UNICORE64_ARCH_PUV3_GPIO__
-
-#include <arch/puv3-iomem.h>
-
-/*
- * PUV3 General-Purpose Input/Output (GPIO) Registers
- *
- * Voltage Status Reg GPIO_GPLR.
- * Pin Direction Reg GPIO_GPDR.
- * Output Pin Set Reg GPIO_GPSR.
- * Output Pin Clear Reg GPIO_GPCR.
- * Raise Edge Detect Reg GPIO_GRER.
- * Fall Edge Detect Reg GPIO_GFER.
- * Edge Status Reg GPIO_GEDR.
- * Sepcial Voltage Detect Reg GPIO_GPIR.
- */
-#define GPIO_GPLR		PUV3_IOREG(PUV3_GPIO_BASE + 0x0000)
-#define GPIO_GPDR		PUV3_IOREG(PUV3_GPIO_BASE + 0x0004)
-#define GPIO_GPSR		PUV3_IOREG(PUV3_GPIO_BASE + 0x0008)
-#define GPIO_GPCR		PUV3_IOREG(PUV3_GPIO_BASE + 0x000C)
-#define GPIO_GRER		PUV3_IOREG(PUV3_GPIO_BASE + 0x0010)
-#define GPIO_GFER		PUV3_IOREG(PUV3_GPIO_BASE + 0x0014)
-#define GPIO_GEDR		PUV3_IOREG(PUV3_GPIO_BASE + 0x0018)
-#define GPIO_GPIR		PUV3_IOREG(PUV3_GPIO_BASE + 0x0020)
-
-#define GPIO_MIN		(0)
-#define GPIO_MAX		(27)
-
-#define GPIO_GPIO(Nb)		__BF(1, (Nb))	/* GPIO [0..27] */
-
-#endif /* __UNICORE64_ARCH_PUV3_GPIO__ */
diff --git a/arch/unicore64/include/arch/puv3-intc.h b/arch/unicore64/include/arch/puv3-intc.h
deleted file mode 100644
index daca4ed..0000000
--- a/arch/unicore64/include/arch/puv3-intc.h
+++ /dev/null
@@ -1,23 +0,0 @@
-#ifndef __UNICORE64_ARCH_PUV3_INTC__
-#define __UNICORE64_ARCH_PUV3_INTC__
-
-#include <arch/puv3-iomem.h>
-
-/*
- * PUV3 Interrupt Controller (INTC) Registers
- *
- * INTC Level Reg INTC_ICLR.
- * INTC Mask Reg INTC_ICMR.
- * INTC Pending Reg INTC_ICPR.
- * INTC IRQ Pending Reg INTC_ICIP.
- * INTC REAL Pending Reg INTC_ICFP.
- * INTC Control Reg INTC_ICCR.
- */
-#define INTC_ICLR		PUV3_IOREG(PUV3_INTC_BASE + 0x0000)
-#define INTC_ICMR		PUV3_IOREG(PUV3_INTC_BASE + 0x0004)
-#define INTC_ICPR		PUV3_IOREG(PUV3_INTC_BASE + 0x0008)
-#define INTC_ICIP		PUV3_IOREG(PUV3_INTC_BASE + 0x000C)
-#define INTC_ICFP		PUV3_IOREG(PUV3_INTC_BASE + 0x0010)
-#define INTC_ICCR		PUV3_IOREG(PUV3_INTC_BASE + 0x0014)
-
-#endif /* __UNICORE64_ARCH_PUV3_INTC__ */
diff --git a/arch/unicore64/include/arch/puv3-regs-intc.h b/arch/unicore64/include/arch/puv3-regs-intc.h
new file mode 100644
index 0000000..30c59dc
--- /dev/null
+++ b/arch/unicore64/include/arch/puv3-regs-intc.h
@@ -0,0 +1,23 @@
+#ifndef __UNICORE64_ARCH_PUV3_REGS_INTC__
+#define __UNICORE64_ARCH_PUV3_REGS_INTC__
+
+#include <arch/puv3-iomem.h>
+
+/*
+ * PUV3 Interrupt Controller (INTC) Registers
+ *
+ * INTC Level Reg INTC_ICLR.
+ * INTC Mask Reg INTC_ICMR.
+ * INTC Pending Reg INTC_ICPR.
+ * INTC IRQ Pending Reg INTC_ICIP.
+ * INTC REAL Pending Reg INTC_ICFP.
+ * INTC Control Reg INTC_ICCR.
+ */
+#define INTC_ICLR		PUV3_IOREG(PUV3_INTC_BASE + 0x0000)
+#define INTC_ICMR		PUV3_IOREG(PUV3_INTC_BASE + 0x0004)
+#define INTC_ICPR		PUV3_IOREG(PUV3_INTC_BASE + 0x0008)
+#define INTC_ICIP		PUV3_IOREG(PUV3_INTC_BASE + 0x000C)
+#define INTC_ICFP		PUV3_IOREG(PUV3_INTC_BASE + 0x0010)
+#define INTC_ICCR		PUV3_IOREG(PUV3_INTC_BASE + 0x0014)
+
+#endif /* __UNICORE64_ARCH_PUV3_REGS_INTC__ */
diff --git a/arch/unicore64/kernel/puv3-intc.c b/arch/unicore64/kernel/puv3-intc.c
index d9c8210..539fbe4 100644
--- a/arch/unicore64/kernel/puv3-intc.c
+++ b/arch/unicore64/kernel/puv3-intc.c
@@ -6,7 +6,7 @@
 #include <linux/platform_device.h>
 
 #include <arch/puv3-irq.h>
-#include <arch/puv3-intc.h>
+#include <arch/puv3-regs-intc.h>
 
 #define __puv3_intc_disable_all()	do {			\
 			writel(0, INTC_ICMR);			\
-- 
1.7.9.5

