From 2496895c32899fe8c334b6a930a086f5738ea959 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Fri, 27 Jan 2012 16:16:38 +0800
Subject: [PATCH 270/641] UniCore64: adjust codes for PUV3_IOMEM_REGION

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/puv3-iomem.h     |    1 +
 arch/unicore64/include/arch/puv3-regs-intc.h |   12 ++++++------
 2 files changed, 7 insertions(+), 6 deletions(-)

diff --git a/arch/unicore64/include/arch/puv3-iomem.h b/arch/unicore64/include/arch/puv3-iomem.h
index f6ddfb2..dc1d497 100644
--- a/arch/unicore64/include/arch/puv3-iomem.h
+++ b/arch/unicore64/include/arch/puv3-iomem.h
@@ -12,6 +12,7 @@
 #define PUV3_IOREG(x)			(x)
 #endif
 
+/* Assume the region for every ip in puv3 having 4K iomem */
 #define PUV3_IOMEM_REGION		__BS(12, 0)
 
 /*
diff --git a/arch/unicore64/include/arch/puv3-regs-intc.h b/arch/unicore64/include/arch/puv3-regs-intc.h
index 30c59dc..c420cd1 100644
--- a/arch/unicore64/include/arch/puv3-regs-intc.h
+++ b/arch/unicore64/include/arch/puv3-regs-intc.h
@@ -13,11 +13,11 @@
  * INTC REAL Pending Reg INTC_ICFP.
  * INTC Control Reg INTC_ICCR.
  */
-#define INTC_ICLR		PUV3_IOREG(PUV3_INTC_BASE + 0x0000)
-#define INTC_ICMR		PUV3_IOREG(PUV3_INTC_BASE + 0x0004)
-#define INTC_ICPR		PUV3_IOREG(PUV3_INTC_BASE + 0x0008)
-#define INTC_ICIP		PUV3_IOREG(PUV3_INTC_BASE + 0x000C)
-#define INTC_ICFP		PUV3_IOREG(PUV3_INTC_BASE + 0x0010)
-#define INTC_ICCR		PUV3_IOREG(PUV3_INTC_BASE + 0x0014)
+#define INTC_ICLR		PUV3_IOREG(PUV3_INTC_BASE + 0x000)
+#define INTC_ICMR		PUV3_IOREG(PUV3_INTC_BASE + 0x004)
+#define INTC_ICPR		PUV3_IOREG(PUV3_INTC_BASE + 0x008)
+#define INTC_ICIP		PUV3_IOREG(PUV3_INTC_BASE + 0x00C)
+#define INTC_ICFP		PUV3_IOREG(PUV3_INTC_BASE + 0x010)
+#define INTC_ICCR		PUV3_IOREG(PUV3_INTC_BASE + 0x014)
 
 #endif /* __UNICORE64_ARCH_PUV3_REGS_INTC__ */
-- 
1.7.9.5

