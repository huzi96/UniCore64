From 597b07536086e9dd5395954193196b5cddf330e8 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Sun, 29 Jan 2012 13:19:23 +0800
Subject: [PATCH 274/641] UniCore64: modify all inline assembler with __asm__
 calling

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/hwdef-copro.h |    4 ++--
 arch/unicore64/include/asm/irqflags.h     |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/arch/unicore64/include/arch/hwdef-copro.h b/arch/unicore64/include/arch/hwdef-copro.h
index f06e961..c6598c0 100644
--- a/arch/unicore64/include/arch/hwdef-copro.h
+++ b/arch/unicore64/include/arch/hwdef-copro.h
@@ -11,7 +11,7 @@
 #define read_cp_op(reg, op_no)						\
 	({								\
 		unsigned long __val;					\
-		asm("movc	%0, " __stringify(reg)			\
+		__asm__("movc	%0, " __stringify(reg)			\
 				", #" __stringify(op_no)		\
 		    : "=r" (__val));					\
 		__val;							\
@@ -19,7 +19,7 @@
 
 #define write_cp_op(reg_value, reg, op_no)				\
 	({								\
-		asm("movc	" __stringify(reg)			\
+		__asm__("movc	" __stringify(reg)			\
 			", %0, #" __stringify(op_no)			\
 		    : : "r" (reg_value));				\
 	})
diff --git a/arch/unicore64/include/asm/irqflags.h b/arch/unicore64/include/asm/irqflags.h
index befddf9..6b1ce0b 100644
--- a/arch/unicore64/include/asm/irqflags.h
+++ b/arch/unicore64/include/asm/irqflags.h
@@ -34,7 +34,7 @@ static inline unsigned long arch_local_save_flags(void)
 {
 	unsigned long temp;
 
-	asm volatile("dmov %0, asr" : "=r" (temp));
+	__asm__("dmov %0, asr" : "=r" (temp));
 
 	return temp & ASR_INTR_SELECT;
 }
@@ -47,7 +47,7 @@ static inline void arch_local_irq_restore(unsigned long flags)
 {
 	unsigned long temp;
 
-	asm volatile(
+	__asm__(
 		"dmov	%0, asr\n"
 		"dandn	%0, %0, %2\n"
 		"dor	%0, %0, %1\n"
-- 
1.7.9.5

