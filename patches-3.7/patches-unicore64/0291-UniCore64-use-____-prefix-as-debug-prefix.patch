From 1486d4257ae5d4ba6b3fbd0ed5c0d925b5594a21 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Tue, 31 Jan 2012 10:36:27 +0800
Subject: [PATCH 291/641] UniCore64: use ____ prefix as debug prefix

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/boot/boot.S                |    4 ++--
 arch/unicore64/include/arch/asm-common.h  |    7 +++++--
 arch/unicore64/include/arch/head-macros.S |    2 +-
 arch/unicore64/kernel/head.S              |    2 +-
 4 files changed, 9 insertions(+), 6 deletions(-)

diff --git a/arch/unicore64/boot/boot.S b/arch/unicore64/boot/boot.S
index 99fff75..c7e300c 100644
--- a/arch/unicore64/boot/boot.S
+++ b/arch/unicore64/boot/boot.S
@@ -68,13 +68,13 @@ _start:
 	jump	r0
 
 	.section .rodata.dtb
-	__epip4d_align64
+	____align64
 dtb_data:
 	.incbin "arch/unicore64/boot/unicore64-fpga.dtb"
 dtb_data_end:
 
 	.section .rodata.piggy
-	__epip4d_align64
+	____align64
 	.globl	input_data
 input_data:
 	.incbin "arch/unicore64/boot/piggy.bin"
diff --git a/arch/unicore64/include/arch/asm-common.h b/arch/unicore64/include/arch/asm-common.h
index 313de27..9cc9025 100644
--- a/arch/unicore64/include/arch/asm-common.h
+++ b/arch/unicore64/include/arch/asm-common.h
@@ -27,9 +27,12 @@ __ASMMACRO_WRAP(.macro	__halt;
 
 #define __halt()			__asm__("__halt")
 
-/* epip for debug: all should be removed definitely */
+/*
+ * We use "____" prefix(4 '_') only for debug:
+ *  All definitions here should be removed definitely and completely.
+ */
 #ifdef __ASSEMBLY__
-#define __epip4d_align64	.p2align 3
+#define ____align64			.p2align 3
 #endif /* __ASSEMBLY__ */
 
 #endif /* __UNICORE64_ARCH_ASM_COMMON_H__ */
diff --git a/arch/unicore64/include/arch/head-macros.S b/arch/unicore64/include/arch/head-macros.S
index 16e520c..d491d0f 100644
--- a/arch/unicore64/include/arch/head-macros.S
+++ b/arch/unicore64/include/arch/head-macros.S
@@ -33,7 +33,7 @@
 	adr	lr, 1002f
 	b	memset
 
-	__epip4d_align64
+	____align64
 1001:
 	.dword	__bss_start
 	.dword	_end
diff --git a/arch/unicore64/kernel/head.S b/arch/unicore64/kernel/head.S
index dc900f7..5d11be0 100644
--- a/arch/unicore64/kernel/head.S
+++ b/arch/unicore64/kernel/head.S
@@ -55,7 +55,7 @@ ENTRY(stext)
 	b	start_kernel
 ENDPROC(stext)
 
-	__epip4d_align64
+	____align64
 __priv_sp:
 	.dword	init_thread_union + (THREAD_SIZE - 8)
 
-- 
1.7.9.5

