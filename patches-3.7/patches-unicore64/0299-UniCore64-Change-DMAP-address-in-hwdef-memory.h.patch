From b982856e6f7891d444f12e85b67f1fe8fbe496a1 Mon Sep 17 00:00:00 2001
From: Liang Rongrong <liangrongrong@mprc.pku.edu.cn>
Date: Wed, 8 Feb 2012 15:16:45 +0800
Subject: [PATCH 299/641] UniCore64: Change DMAP address in hwdef-memory.h

Signed-off-by: Liang Rongrong <liangrongrong@mprc.pku.edu.cn>
---
 arch/unicore64/include/arch/hwdef-memory.h |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/arch/unicore64/include/arch/hwdef-memory.h b/arch/unicore64/include/arch/hwdef-memory.h
index 443daf9..adc6eb1 100644
--- a/arch/unicore64/include/arch/hwdef-memory.h
+++ b/arch/unicore64/include/arch/hwdef-memory.h
@@ -11,7 +11,7 @@
 /**
  * DOC: HWDEF_MEMORY_H_VM
  * We have 39-bit vm address which means 512GB virtual space.
- * Use the 38:37 bits(the higher bits are extended the same as the
+ * Use the [38:37] bits(the higher bits are extended the same as the
  * 38th bit) to divide it in 4 parts as below:
  *
  * \\\\lt:programlisting\\\\gt:
@@ -39,7 +39,7 @@
  * -
  * \\\\lt:/programlisting\\\\gt:
  *
- * In the Kernel space, the first 64GB(physical space is 64G) space
+ * In the Kernel space, the last 64GB(physical space is 64G) space
  * is Direct Mapping space.
  */
 
@@ -51,10 +51,10 @@
 #define UC64_VM_KERNEL_END		__BC(ffffffff, ffffffff)
 
 /* virtual address of direct mapping space */
-#define UC64_VM_DMAP_START		UC64_VM_KERNEL_START
-#define UC64_VM_DMAP_END		__BC(ffffffef, ffffffff)
+#define UC64_VM_DMAP_START		__BC(fffffff0, 00000000)
+#define UC64_VM_DMAP_END		__BC(ffffffff, ffffffff)
 
-#define UC64_VM_IO_START		__BC(ffffffef, 80000000)
+#define UC64_VM_IO_START		__BC(ffffffff, 80000000)
 #define UC64_VM_IO_END			UC64_VM_DMAP_END
 
 /* FIXME */
-- 
1.7.9.5

