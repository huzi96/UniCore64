From de6c8e8d538a122288f7ebdca2893d4b84ef268c Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Tue, 21 Feb 2012 11:05:26 +0800
Subject: [PATCH 304/641] UniCore64: simple pgtable type defines

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/asm/page.h |   25 +------------------------
 1 file changed, 1 insertion(+), 24 deletions(-)

diff --git a/arch/unicore64/include/asm/page.h b/arch/unicore64/include/asm/page.h
index f83c699..f9635b8 100644
--- a/arch/unicore64/include/asm/page.h
+++ b/arch/unicore64/include/asm/page.h
@@ -33,10 +33,8 @@
 #define VM_DATA_DEFAULT_FLAGS	(VM_READ | VM_WRITE | VM_EXEC | VM_MAYREAD | \
 					VM_MAYWRITE | VM_MAYEXEC)
 
-#define STRICT_MM_TYPECHECKS
+typedef struct page *pgtable_t;
 
-#ifdef STRICT_MM_TYPECHECKS
-/* These are used to make use of C type-checking.. */
 typedef struct { unsigned long pte; } pte_t;
 typedef struct { unsigned long pmd; } pmd_t;
 typedef struct { unsigned long pgd; } pgd_t;
@@ -52,27 +50,6 @@ typedef struct { unsigned long pgprot; } pgprot_t;
 #define __pgd(x)	((pgd_t) { (x) })
 #define __pgprot(x)	((pgprot_t) { (x) })
 
-#else /* STRICT_MM_TYPECHECKS */
-/* .. while these make it easier on the compiler */
-typedef unsigned long pte_t;
-typedef unsigned long pmd_t;
-typedef unsigned long pgd_t;
-typedef unsigned long pgprot_t;
-
-#define pte_val(x)	(x)
-#define pmd_val(x)	(x)
-#define pgd_val(x)	(x)
-#define pgprot_val(x)	(x)
-
-#define __pte(x)	(x)
-#define __pmd(x)	(x)
-#define __pgd(x)	(x)
-#define __pgprot(x)	(x)
-
-#endif /* STRICT_MM_TYPECHECKS */
-
-typedef struct page *pgtable_t;
-
 #endif /* !__ASSEMBLY__ */
 
 #include <asm-generic/getorder.h>
-- 
1.7.9.5

