From 963cda04be79034a9046dcc400a31b108119be3d Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Fri, 24 Feb 2012 16:48:37 +0800
Subject: [PATCH 309/641] UniCore64: correct nonexisted bitops by using
 asm-generic version

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/include/asm/Kbuild   |    1 +
 arch/unicore64/include/asm/bitops.h |   32 --------------------------------
 2 files changed, 1 insertion(+), 32 deletions(-)
 delete mode 100644 arch/unicore64/include/asm/bitops.h

diff --git a/arch/unicore64/include/asm/Kbuild b/arch/unicore64/include/asm/Kbuild
index 08d8206..20563b2 100644
--- a/arch/unicore64/include/asm/Kbuild
+++ b/arch/unicore64/include/asm/Kbuild
@@ -1,6 +1,7 @@
 include include/asm-generic/Kbuild.asm
 
 generic-y += auxvec.h
+generic-y += bitops.h
 generic-y += bug.h
 generic-y += bugs.h
 generic-y += cache.h
diff --git a/arch/unicore64/include/asm/bitops.h b/arch/unicore64/include/asm/bitops.h
deleted file mode 100644
index 4cc3805..0000000
--- a/arch/unicore64/include/asm/bitops.h
+++ /dev/null
@@ -1,32 +0,0 @@
-#ifndef __UNICORE64_ASM_BITOPS_H__
-#define __UNICORE64_ASM_BITOPS_H__
-
-#define _ASM_GENERIC_BITOPS___FLS_H_
-/*
- * __fls - find last (most-significant) set bit in a long word
- * @word: the word to search
- *
- * Undefined if no set bit exists, so code should check against 0 first.
- */
-static inline unsigned long __fls(unsigned long word)
-{
-	/* FIXME: NOT implemented */
-	return 0;
-}
-
-#define _ASM_GENERIC_BITOPS___FFS_H_
-/*
- * __ffs - find first bit in word.
- * @word: The word to search
- *
- * Undefined if no bit exists, so code should check against 0 first.
- */
-static inline unsigned long __ffs(unsigned long word)
-{
-	/* FIXME: NOT implemented */
-	return 0;
-}
-
-#include <asm-generic/bitops.h>
-
-#endif /* __UNICORE64_ASM_BITOPS_H__ */
-- 
1.7.9.5

