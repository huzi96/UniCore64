From 63ffcbec003be56f1b11677bf2d18c90165ff3ec Mon Sep 17 00:00:00 2001
From: Chang Huaixin <changhuaixin@mprc.pku.edu.cn>
Date: Thu, 1 Mar 2012 15:25:55 +0800
Subject: [PATCH 313/641] UniCore64: modify __itimer_irq_enable and
 __itimer_irq_disable macro

Signed-off-by: Chang Huaixin <changhuaixin@mprc.pku.edu.cn>
---
 arch/unicore64/kernel/time.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/unicore64/kernel/time.c b/arch/unicore64/kernel/time.c
index fa43993..c8c20f1 100644
--- a/arch/unicore64/kernel/time.c
+++ b/arch/unicore64/kernel/time.c
@@ -11,9 +11,9 @@
 #define __itimer_write_counter(cnt)	__write_cp_op(cnt, CP0_INTR, 1)
 
 #define __itimer_irq_enable()					\
-	__write_uc64(__read_uc64(asr) | ASR_INTR_ITM, asr)
-#define __itimer_irq_disable()					\
 	__write_uc64(__read_uc64(asr) & ~ASR_INTR_ITM, asr)
+#define __itimer_irq_disable()					\
+	__write_uc64(__read_uc64(asr) | ASR_INTR_ITM, asr)
 #define __itimer_irq_clear()					\
 	__write_cp(__read_cp(CP0_INTR) & ~CP0_INTR_ITM, CP0_INTR)
 
-- 
1.7.9.5

