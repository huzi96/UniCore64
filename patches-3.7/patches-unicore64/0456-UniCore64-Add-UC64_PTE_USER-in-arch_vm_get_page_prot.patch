From 34b8fe878bf276bf9ade78c512f49387cf7bd96a Mon Sep 17 00:00:00 2001
From: Liang Rongrong <liangrongrong@mprc.pku.edu.cn>
Date: Mon, 8 Oct 2012 10:53:04 +0800
Subject: [PATCH 456/641] UniCore64: Add UC64_PTE_USER in
 arch_vm_get_page_prot

Signed-off-by: Liang Rongrong <liangrongrong@mprc.pku.edu.cn>
---
 arch/unicore64/include/asm/pgtable-prot.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/unicore64/include/asm/pgtable-prot.h b/arch/unicore64/include/asm/pgtable-prot.h
index ee47fe5..8672ddf 100644
--- a/arch/unicore64/include/asm/pgtable-prot.h
+++ b/arch/unicore64/include/asm/pgtable-prot.h
@@ -10,7 +10,7 @@
 
 /* FIXME: if READ is needed when WRITE or EXEC, otherwise, modify VM_flags */
 #define arch_vm_get_page_prot(vm_flags)			\
-		__pgprot(UC64_PTE_EXIST | UC64_PTE_TYPE_CACHE)
+		__pgprot(UC64_PTE_EXIST | UC64_PTE_TYPE_CACHE | UC64_PTE_USER)
 
 #define __P000		__pgprot(0)
 #define __P001		__pgprot(UC64_PTE_READ)
-- 
1.7.9.5

