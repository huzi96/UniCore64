From f4af0e848e193cc594f324f1a21478a9586d4774 Mon Sep 17 00:00:00 2001
From: Liang Rongrong <liangrongrong@mprc.pku.edu.cn>
Date: Tue, 18 Dec 2012 09:59:14 +0800
Subject: [PATCH 488/641] UniCore64: Fix the bug in
 uc64_create_io_direct_mapping

Signed-off-by: Liang Rongrong <liangrongrong@mprc.pku.edu.cn>
---
 arch/unicore64/mm/mmu.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/arch/unicore64/mm/mmu.c b/arch/unicore64/mm/mmu.c
index 5c86a73..6426dbd 100644
--- a/arch/unicore64/mm/mmu.c
+++ b/arch/unicore64/mm/mmu.c
@@ -46,13 +46,13 @@ static void __init uc64_create_io_direct_mapping(void)
 	pud = (pud_t *)UC64_VM_PGTABLE_PGD
 		+ pgd_index((unsigned long)UC64_VM_IO_START);
 	set_pud(pud, __pud(phys_pud00 | pgprot_val(prot_pud)));
-	uc64_create_direct_mapping(phys_io_start, UC64_SPAGE_SIZE,
+	uc64_create_direct_mapping(phys_io_start, UC64_PGD_SIZE,
 			phys_pud00, UC64_PMD_TYPE_IO);
 
 	pud++;
-	phys_io_start += UC64_SPAGE_SIZE;
+	phys_io_start += UC64_PGD_SIZE;
 	set_pud(pud, __pud(phys_pud01 | pgprot_val(prot_pud)));
-	uc64_create_direct_mapping(phys_io_start, UC64_SPAGE_SIZE,
+	uc64_create_direct_mapping(phys_io_start, UC64_PGD_SIZE,
 			phys_pud01, UC64_PMD_TYPE_IO);
 }
 
-- 
1.7.9.5

