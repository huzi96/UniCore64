From 9fed248a09d7458b82a249b4daa3c74bf8a71898 Mon Sep 17 00:00:00 2001
From: Guan Xuetao <gxt@mprc.pku.edu.cn>
Date: Thu, 24 Apr 2014 05:53:43 +0800
Subject: [PATCH 604/641] UniCore64: Add PATA config

Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
---
 arch/unicore64/configs/unicore64_defconfig     |   20 ++++++++++++++++++++
 arch/unicore64/configs/unicore64_smp_defconfig |   20 ++++++++++++++++++++
 2 files changed, 40 insertions(+)

diff --git a/arch/unicore64/configs/unicore64_defconfig b/arch/unicore64/configs/unicore64_defconfig
index 5a379b8..c3e3d0a 100644
--- a/arch/unicore64/configs/unicore64_defconfig
+++ b/arch/unicore64/configs/unicore64_defconfig
@@ -33,6 +33,26 @@ CONFIG_FB_SYS_IMAGEBLIT=y
 CONFIG_FB_SYS_FOPS=y
 CONFIG_FB_PUV4_DE2=y
 
+# SCSI device support
+CONFIG_SCSI=y
+CONFIG_SCSI_DMA=y
+#Disable SWIOTLB for 3.7!
+CONFIG_SWIOTLB=n
+
+CONFIG_BLK_DEV_SD=y
+
+# SCSI Transports
+CONFIG_ATA=y
+CONFIG_ATA_VERBOSE_ERROR=y
+CONFIG_ATA_SFF=y
+CONFIG_PATA_BK3710=y
+
+#
+# File systems
+#
+CONFIG_EXT2_FS=y
+CONFIG_FS_MBCACHE=y
+
 ### Kernel hacking
 CONFIG_DEBUG_KERNEL=y
 CONFIG_DEBUG_OCD=y
diff --git a/arch/unicore64/configs/unicore64_smp_defconfig b/arch/unicore64/configs/unicore64_smp_defconfig
index 40af68a..5e9caf9 100644
--- a/arch/unicore64/configs/unicore64_smp_defconfig
+++ b/arch/unicore64/configs/unicore64_smp_defconfig
@@ -33,6 +33,26 @@ CONFIG_FB_SYS_IMAGEBLIT=y
 CONFIG_FB_SYS_FOPS=y
 CONFIG_FB_PUV4_DE2=y
 
+# SCSI device support
+CONFIG_SCSI=y
+CONFIG_SCSI_DMA=y
+#Disable SWIOTLB for 3.7!
+CONFIG_SWIOTLB=n
+
+CONFIG_BLK_DEV_SD=y
+
+# SCSI Transports
+CONFIG_ATA=y
+CONFIG_ATA_VERBOSE_ERROR=y
+CONFIG_ATA_SFF=y
+CONFIG_PATA_BK3710=y
+
+#
+# File systems
+#
+CONFIG_EXT2_FS=y
+CONFIG_FS_MBCACHE=y
+
 ### Kernel hacking
 CONFIG_DEBUG_KERNEL=y
 CONFIG_DEBUG_OCD=y
-- 
1.7.9.5

